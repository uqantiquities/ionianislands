<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ionian Islands Tiles</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;1,400;1,600&family=Nunito:wght@300;400;600;700&family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">

  <style>
  html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden; /* no scrolling at all */
}

body {
  background-color: #3A3D40;
  color: #f5f5f5;
  font-family: 'Nunito', sans-serif;
  height: 100vh;
  display: flex;
  flex-direction: column;
}
    
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    
.container {
  flex: 1;             /* takes all available space above footer */
  width: 100%;
  padding: 0;          /* remove padding that adds scroll height */
  display: flex;
  flex-direction: column;
  justify-content: center; /* vertical center */
  align-items: center;     /* horizontal center */
  box-sizing: border-box;
}

h1 {
  font-family: 'Crimson Pro', serif;
  text-align: center;
  margin: 0 0 20px 0;
}

.grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(4, 1fr);
  gap: 20px;
  width: 90vmin;       /* key: responsive scaling based on viewport */
  height: 60vmin;      /* grid auto-scales but stays proportional */
  max-width: 1500px;
  max-height: 900px;
  justify-content: center;
  box-sizing: border-box;
}

.tile {
  position: relative;
  width: 100%;
  padding-top: 100%; /* keep squares */
  cursor: pointer;
  overflow: hidden;
  background-color: #555;
  border: 2px solid #666;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.5);
  transition: transform 0.2s;
}
.tile:hover { transform: scale(1.03); }
.tile img {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
}

.tile-label {
  position: absolute;
  bottom: 8px; left: 8px; right: 8px;
  background: rgba(0,0,0,0.5);
  padding: 4px 8px;
  font-size: 1rem;
  border-radius: 4px;
  text-align: center;
}

    

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.85);
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    .modal-content {
      position: relative;
      max-width: 90%;
      animation: zoomIn 0.3s ease-in-out;
      text-align: center;
    }

    @keyframes zoomIn { from { transform: scale(0.7); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .modal-content img {
      width: 100%;
      max-width: 500px;
      height: auto;
      border-radius: 4px;
    }

    .close-btn {
      position: absolute;
      top: 10px; right: 10px;
      color: #fff;
      background: rgba(0,0,0,0.5);
      border: none;
      font-size: 1.5rem;
      padding: 5px 10px;
      cursor: pointer;
      border-radius: 4px;
    }

    .close-btn:hover { background: rgba(0,0,0,0.8); }
footer {
  flex-shrink: 0; /* never pushes container taller */
  width: 100%;
  text-align: center;
  font-size: 0.85rem;
  padding: 12px;
  background: rgba(0,0,0,0.2);
  color: #ccc;
  font-family: 'Roboto Condensed', sans-serif;
  box-sizing: border-box;
}

/* responsive columns for smaller screens */
@media (max-width: 900px) {
  .grid {
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(5, 1fr);
  }
}

@media (max-width: 600px) {
  .grid {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(9, 1fr);
    width: 90vmin;
    height: 90vmin;
    gap: 12px;
  }
}
  </style>
</head>

<body>
  <div class="container">
    <h1>Choose an oral history to explore in full</h1>
    <div class="grid" id="grid"></div>
      <script>
        const labels = [
          "Con Aroney (15:22)", "Vera Black (25:39)", "Anastasia Blake (24:53)", "Beulah Castan (47:31)", "Nicholas Comino (58:33)", "Stella Comino (46:43)",
          "Jim Crithary (22:29)", "Marina Crithary (18:18)", "John Kallinicos (53:55)", "Maria Lecatsas (13:13)", "Katerini Manolatos (8:23)",
          "Konstantina Manolatos (11:17)", "Maria Masselos (29:30)", "Effie Patrikios (15:56)", "John Pippos (22:49)", "Penny Pippos (12:32)",
          "Emmanuel Prineas (14:33)", "Jan Psaltis (22:53)","Erene Rossetti (31:59)", "Eve Terry (12:21)", "Barbara Vasdekis (11:13)", "Chrys Zantis (44:52)",
        ];

        const grid = document.getElementById('grid');
for (let i = 1; i <= 22; i++) {
  grid.innerHTML += `
    <div class="tile" data-index="${i}">
      <img src="Tiles/Tile ${i}.jpg" alt="${labels[i-1]}">
      <div class="tile-label">${labels[i-1]}</div>
    </div>
  `;
}
    
      </script>
    </div>
  </div>

  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="close-btn" id="closeBtn">&times;</button>
      <img id="modalImg" src="" alt="modal tile">
      <audio id="modalAudio" controls style="margin-top: 12px; width: 100%; max-width: 400px;"></audio>
      <div id="modalLabel" style="color:white; margin-top:8px;"></div>
    </div>
  </div>

  <footer>
    If you would like to contribute your story of the Ionian Islands, please contact Museum staff at antiquitiesmuseum@uq.edu.au who can provide you with the relevant paperwork and arrange a time to record your story. 
  <br>
    <br>
    Content warning: Some language and themes in these oral histories may be offensive or upsetting 
      <br>
    <br>
    UQ Ethics Approval 2023/HE002328 | Licensed under a Creative Commons Attribution-NonCommercial 4.0 International Deed
    
  </footer>

  <script>
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalLabel = document.getElementById('modalLabel');
    const modalAudio = document.getElementById('modalAudio');
    const closeBtn = document.getElementById('closeBtn');

    document.querySelectorAll('.tile').forEach(tile => {
      tile.addEventListener('click', () => {
        const idx = tile.getAttribute('data-index');
        modalImg.src = `Tiles/Tile ${idx}.jpg`;
        modalLabel.textContent = labels[idx-1];
        modalAudio.src = `Audio/Audio ${idx}.mp3`; // assumes audio files in Audio folder
        modal.style.display = 'flex';
      });
    });



    // Pause audio whenever the modal is closed
function closeModal() {
  modal.style.display = 'none';
  modalAudio.pause();
  modalAudio.currentTime = 0; // optional: reset to start
}

// Replace your current close handlers with this:
closeBtn.addEventListener('click', closeModal);
modal.addEventListener('click', e => { 
  if (e.target === modal) closeModal();
});

  </script>
</body>
</html>


   <!-- closeBtn.addEventListener('click', () => { modal.style.display = 'none'; });
    modal.addEventListener('click', e => { if(e.target === modal) modal.style.display = 'none'; });
